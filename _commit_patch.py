import re
# ??????? SHA (???????): ????? ?? 4
targets = [b"d493b3f", b"0510ce2", b"7e349c6", b"2cd4954"]

if any(commit.original_id.startswith(t) for t in targets):
    m = commit.message
    # ???????? "Generated with [..]" (????-??? ???????/?????/???????)
    m = re.sub(rb"(?im)^\s*Generated with\s*\[.*?\].*\r?\n", b"", m)
    # ???????? Co-Authored-By ? LLM (Claude/ChatGPT/GPT/OpenAI/Anthropic)
    m = re.sub(rb"(?im)^\s*Co-Authored-By:\s.*(Claude|ChatGPT|GPT|OpenAI|Anthropic).*\r?\n", b"", m)
    # ???????????? ????? ????? ????? ?? ?????????? ????????? \n
    m = re.sub(rb"\n{3,}", b"\n\n", m).strip() + b"\n"
    commit.message = m
